<!DOCTYPE html>
<html lang="en">
<head>
  <title>Promises</title>
  <script>
    const cart = ["pen","pencil","eraser"];

    createOrder(cart)
    .then(function(orderId){
        console.log(orderId);
        return orderId;
    })
    .catch(function(err){
        console.log(err.message);
    })
    .then(function(orderId){
        return proceedToPayment(orderId);
    })
    .then(function(paymentInfo){
        console.log(paymentInfo);
    })
    

    function createOrder(cart){
        const pr = new Promise(function(resolve,reject){ 
             if(!validatecart(cart)){
                const err= new Error("Cart is not valid");
                reject(err);
             }

             const orderId = "12345";
             if(orderId){
                setTimeout(function(){
                    resolve(orderId);
             },5000);
            }
        });
        return pr;
    }

    function proceedToPayment(orderId){
        return new Promise(function(resolve,reject){
            resolve("Payment Successful");
        })
    }

    function validatecart(cart){
        return true;
    }
    
  </script>
</head>
<body>
  
</body>
</html>